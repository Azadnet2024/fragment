<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
    <link rel="icon" href="favicon.ico" type="image/x-icon">
    <link rel="stylesheet" href="https://cdn.fontcdn.ir/Font/Persian/IranSans/css/iransans.css" />
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <script defer src="language-switch.js"></script>
    <title>Fragment Generator</title>
</head>

<body>
    <h1><span data-en="OPIran Subscription Fragment Generator" data-fa="مبدل فرگمنت اپیران"></span></h1>
    <h2><span data-en="After generating the code using the form, copy the config and place it in Cloudflare Worker, or you can use Cloudflare Deploy. Now your worker domain is your subscription link." data-fa="پس از ایجاد کد با استفاده از فرم، کانفیگ را کپی کرده و در کلودفلر ورکر قرار دهید یا می توانید از دپلوی در کلودفلر استفاده کنید. اکنون دامنه ورکر شما لینک اشتراک شماست"></span></h2>

    <div class="language-switch-container">
        <button onclick="setLanguage('en')">English</button>
        <button onclick="setLanguage('fa')">فارسی</button>
    </div>
    <main>
        <div class="container">
            <form id="configForm">

                <label for="cleanIP" data-en="Clean IP / Domain (e.g. npmjs.com):"
                                    data-fa="آی پی تمیز / دامنه (برای مثال npmjs.com):"></label>
                <input type="text" id="cleanIP" name="cleanIP" style="margin-bottom: 10px;"
                    placeholder="محل قرارگیری آی پی تمیز یا دامنه"><br>

               <label for="yourDomain" data-en="Your CDN Domain" 
                                        data-fa="دامنه کانفیگ"></label>
                <input type="text" id="yourDomain" name="yourDomain" 
                    placeholder="محل قرارگیری دامنه کانفیگ یا وپن" style="margin-bottom: 10px;"><br>

                <label for="wsHost" data-en="ws host / gRPC servicename" 
                                    data-fa="وب سوکت هاست / سرویس جی ار پی سی"></label>
                <input type="text" id="wsHost" name="wsHost" 
                    placeholder="محل قرارگیری دامنه کانفیگ یا وپن" style="margin-bottom: 1px;"><br>
            
                <label for="port" data-en="Port" 
                                    data-fa="پورت کانفیگ"></label>
                <select id="port" name="port" style="margin-bottom: 1px;">
                        <option value="8443">8443</option>
                        <option value="2053">2053</option>
                        <option value="2096">2096</option>
                        <option value="2087">2087</option>
                        <option value="2083">2083</option>
                        <option value="80">80</option>
                        <option value="8080">8080</option>
                        <option value="8880">8880</option>
                        <option value="2052">2052</option>
                        <option value="2082">2082</option>
                        <option value="2086">2086</option>
                        <option value="2095">2095</option>
                </select><br>

                <label for="userUUID" data-en="UUID" 
                                        data-fa="یوآیدی کانفیگ"></label>
                <input type="text" id="userUUID" name="userUUID" placeholder="محل قرارگیری یوآیدی کانفیگ" style="margin-bottom: 10px;" required><br>
            
                <label for="protocol" data-en="Protocol" 
                                        data-fa="پروتوکل کانفیگ"></label>
                <select id="protocol" name="protocol" style="margin-bottom: 10px;">
                    <option value="vless">VLESS</option>
                    <option value="vmess">VMESS</option>
                </select><br>
            
                <label for="transport" data-en="Transport" 
                                        data-fa="ترنسپورت"></label>
                <select id="transport" name="transport" style="margin-bottom: 10px;">
                    <option value="ws">WS</option>
                    <option value="grpc">gRPC</option>
                </select><br>
            
                <label for="path" data-en="Path" 
                                    data-fa="مسیر پیکربندی"></label>
                <input type="text" id="path" name="path" 
                    placeholder="e.g., /?ed=2048" style="margin-bottom: 10px;"><br>
            
<label for="tls" title="در صورت انتخاب, به پورت دقت کنید">Enable TLS:</label>
<input type="checkbox" id="tls" name="tls" style="margin-bottom: 10px;"><br>

<label for="mux" title="کاهش زمان تاخیر در ارسال داده ها">Enable Mux:</label>
<input type="checkbox" id="mux" name="mux" style="margin-bottom: 10px;"><br>

<label for="allowInsecure" title="در صورت استفاده از ای پی در اس ان ای روشن شود">Allow insecure:</label>
<input type="checkbox" id="allowInsecure" name="allowInsecure" style="margin-bottom: 10px;"><br>

<label for="allowEarlyData" title="API بهبود بارگزاری دیتا در پروتوکل مبتنی بر TCP non delay">Allow Early Data (TCP non-delay):</label>
<input type="checkbox" id="allowEarlyData" name="allowEarlyData" style="margin-bottom: 10px;"><br>

                            <button type="button" onclick="generateConfig()" data-en="Generate Configuration"
                                data-fa="ایجاد کانفیگ"></button>

                            <button class="download-button" type="button" onclick="downloadConfig()" disabled
                                data-en="Download Configuration" data-fa="دانلود کانفیگ"></button>
                    </form>
                    <div class="output-container">
                        <pre id="configOutput"></pre>
                    </div>
                </div>
            </main>

    <a href="https://workers.cloudflare.com/playground" target="_blank">
        <img src="https://deploy.workers.cloudflare.com/button?paid=true" alt="Deploy to Cloudflare Workers" />
    </a>
    
<footer data-en="@ Prepared by" data-fa="@ تهیه شده توسط">
    <a href="https://github.com/opiran-club/worker_fragment_creator">FaRzAd</a>
</footer>

    <script defer src="language-switch.js"></script>
    <script defer src="config.js" type="text/javascript"></script>
    
</body>
</html>
